<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/dashboard.css') }}">
    <title>Eliminar Paciente - {{ paciente.nombre }}</title>
</head>

<body>

<header class="main-header">
    <div class="header-content">
        <h1>TechSolutions S.A. - Gesti√≥n de Citas M√©dicas</h1>
        <p>Confirmaci√≥n de Eliminaci√≥n</p>
    </div>
</header>

<div class="container">

    <!-- Navegaci√≥n de regreso -->
    <div class="navigation-bar">
        <a href="{{ url_for('historial_paciente', paciente_id=paciente.id) }}" class="btn-back">
            ‚Üê Volver al Historial
        </a>
        <h1>‚ö†Ô∏è Confirmar Eliminaci√≥n</h1>
    </div>

    <!-- Advertencia de eliminaci√≥n -->
    <div class="warning-card">
        <div class="warning-icon">‚ö†Ô∏è</div>
        <h2>¬øEst√°s seguro de que deseas eliminar este paciente?</h2>
        <p class="warning-text">
            Esta acci√≥n es <strong>permanente</strong> y no se puede deshacer. 
            Al eliminar al paciente se perder√°n:
        </p>
        <ul class="warning-list">
            <li>‚úó Toda la informaci√≥n personal del paciente</li>
            <li>‚úó Su historial m√©dico completo</li>
            <li>‚úó Todas las citas programadas ({{ total_citas }} citas)</li>
            <li>‚úó Todo el registro de consultas anteriores</li>
        </ul>
    </div>

    <!-- Informaci√≥n del paciente a eliminar -->
    <div class="patient-info-deletion">
        <h3>üìã Informaci√≥n del Paciente a Eliminar</h3>
        <div class="patient-summary">
            <div class="summary-row">
                <span class="summary-label">Nombre:</span>
                <span class="summary-value">{{ paciente.nombre }}</span>
            </div>
            <div class="summary-row">
                <span class="summary-label">Edad:</span>
                <span class="summary-value">{{ paciente.edad }} a√±os</span>
            </div>
            <div class="summary-row">
                <span class="summary-label">Email:</span>
                <span class="summary-value">{{ paciente.email }}</span>
            </div>
            <div class="summary-row">
                <span class="summary-label">Tel√©fono:</span>
                <span class="summary-value">{{ paciente.telefono or "No proporcionado" }}</span>
            </div>
            <div class="summary-row">
                <span class="summary-label">Fecha de registro:</span>
                <span class="summary-value">{{ paciente.fecha_registro.strftime("%d de %B de %Y") if paciente.fecha_registro else "No especificada" }}</span>
            </div>
            <div class="summary-row">
                <span class="summary-label">Total de citas:</span>
                <span class="summary-value">{{ total_citas }} citas</span>
            </div>
        </div>
    </div>

    <!-- Formulario de confirmaci√≥n -->
    <div class="confirmation-section">
        <h3>Confirmaci√≥n requerida</h3>
        <p>Para proceder con la eliminaci√≥n, escribe <strong>"ELIMINAR"</strong> en el campo de abajo:</p>
        
        <form method="POST" action="{{ url_for('eliminar_paciente', paciente_id=paciente.id) }}" class="confirmation-form">
            <div class="form-group">
                <label for="confirmacion">Escribe "ELIMINAR" para confirmar:</label>
                <input type="text" id="confirmacion" name="confirmacion" placeholder="ELIMINAR" required>
                <small class="form-help">Debe escribir exactamente "ELIMINAR" (sin comillas)</small>
            </div>

            <div class="form-actions-deletion">
                <button type="submit" class="btn-confirmar-eliminacion">
                    üóëÔ∏è S√ç, ELIMINAR PACIENTE
                </button>
                <a href="{{ url_for('historial_paciente', paciente_id=paciente.id) }}" class="btn-cancelar-eliminacion">
                    ‚úï Cancelar y Volver
                </a>
            </div>
        </form>
    </div>

    <!-- Mensaje de seguridad -->
    <div class="security-note">
        <p><strong>Nota de seguridad:</strong> Esta acci√≥n requiere confirmaci√≥n expl√≠cita para prevenir eliminaciones accidentales. Si no est√°s completamente seguro, te recomendamos cancelar esta operaci√≥n.</p>
    </div>

</div>

</body>
</html>